@*@inject Services.PlayerInfo Data*@

    
<h1>Yodels @PlayerId</h1>
@*<h3>@PlayerBios.FirstName</h3>*@

<div class="row">
    <a href="#" @onclick="Toggle" class="col-12">@ActionText</a>
    @if (!Collapsed)
    {
        <div class="col-12 card card-body">
            @ChildContent
        </div>
    }
</div>


@*@using System;
@using System.Net.Http;
@using Microsoft.AspNetCore.Http;
@using Microsoft.AspNetCore.Mvc;
@using System.Collections.Generic;
@using System.Net.Http.Json;*@

@code {

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public bool Collapsed { get; set; }

    string ActionText { get => Collapsed ? "Expand" : "Collapse"; }

    void Toggle()
    {
        Collapsed = !Collapsed;
    }

    [Parameter]
    public PlayerBiosData PlayerBios { get; set; }

    [Parameter]
    public string PlayerId { get; set; }

    //private async void IvokeAsync(string PlayerId)
    //{
    //    var httpClient = new HttpClient();
    //    httpClient.BaseAddress = new Uri("https://app.atptour.com/");

    //    // Get data from JSON HttpContent with ReadFromJsonAsync
    //    var request = new HttpRequestMessage(HttpMethod.Get, "api/gateway/players.PlayerProfileBio?playerid=" + PlayerId);
    //    using var response = await httpClient.SendAsync(request);

    //    if (response.IsSuccessStatusCode)
    //    {
    //        var profile = response.Content.ReadFromJsonAsync<PlayerBiography>();

    //        PlayerBios = profile.Result.Data;

    //        //PlayerData tester = profiles.Result.Data.(p => p.PlayerId == PlayerId));

    //        //PlayerData testerTwo = profiles.Result.Data.W


    //        //foreach (PlayerBiosData player in profiles.Result.Data)
    //        //{



    //        //}
    //    }

    //    //return Page();

    //}

}
